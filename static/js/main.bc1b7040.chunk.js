(this["webpackJsonppmaa-app"]=this["webpackJsonppmaa-app"]||[]).push([[0],{115:function(e,n,a){"use strict";a.r(n);var i=a(2),t=a(0),l=a.n(t),c=a(18),r=a.n(c),m=(a(69),a(6)),g=a(14),p=a(17),o=a(148);var u=function(e){return Array(e).fill(1).map((function(e,n){var a=n+1;return Math.floor(100*Math.random())<10?{x:a,y:Math.floor(200*Math.random())}:{x:a,y:0}}))};function k(e){var n=u(200),a="#"+Math.floor(16777215*Math.random()).toString(16);return Object(m.a)(Object(m.a)({},e),{},{data:n,color:a})}var s=[{groupName:"Non-Branched Hexopyranosyl Residues ",items:[{name:"Galp",linkage:"T"},{name:"Glcp",linkage:"T"},{name:"Manp",linkage:"T"},{name:"Fucp",linkage:"T"},{name:"Rhap",linkage:"T"},{name:"GalpNAc",linkage:"T"},{name:"GlcpNAc",linkage:"T"},{name:"ManpNAc",linkage:"T"},{name:"Galp",linkage:"2"},{name:"Glcp",linkage:"2"},{name:"Manp",linkage:"2"},{name:"Fucp",linkage:"2"},{name:"Rhap",linkage:"2"},{name:"GalpNAc",linkage:"2"},{name:"GlcpNAc",linkage:"2"},{name:"ManpNAc",linkage:"2"},{name:"Galp",linkage:"3"},{name:"Glcp",linkage:"3"},{name:"Manp",linkage:"3"},{name:"Fucp",linkage:"3"},{name:"Rhap",linkage:"3"},{name:"GalpNAc",linkage:"3"},{name:"GlcpNAc",linkage:"3"},{name:"ManpNAc",linkage:"3"},{name:"Galp",linkage:"4"},{name:"Glcp",linkage:"4"},{name:"Manp",linkage:"4"},{name:"Fucp",linkage:"4"},{name:"Rhap",linkage:"4"},{name:"GalpNAc",linkage:"4"},{name:"GlcpNAc",linkage:"4"},{name:"ManpNAc",linkage:"4"},{name:"Galp",linkage:"6"},{name:"Glcp",linkage:"6"},{name:"Manp",linkage:"6"},{name:"Fucp",linkage:"6"},{name:"Rhap",linkage:"6"},{name:"GalpNAc",linkage:"6"},{name:"GlcpNAc",linkage:"6"},{name:"ManpNAc",linkage:"6"}]},{groupName:"Singly Branched Hexopyranosyl Residues",items:[{name:"Galp",linkage:"2,3"},{name:"Glcp",linkage:"2,3"},{name:"Manp",linkage:"2,3"},{name:"Fucp",linkage:"2,3"},{name:"Rhap",linkage:"2,3"},{name:"GalpNAc",linkage:"2,3"},{name:"GlcpNAc",linkage:"2,3"},{name:"ManpNAc",linkage:"2,3"},{name:"Galp",linkage:"2,4"},{name:"Glcp",linkage:"2,4"},{name:"Manp",linkage:"2,4"},{name:"Fucp",linkage:"2,4"},{name:"Rhap",linkage:"2,4"},{name:"GalpNAc",linkage:"2,4"},{name:"GlcpNAc",linkage:"2,4"},{name:"ManpNAc",linkage:"2,4"},{name:"Galp",linkage:"2,6"},{name:"Glcp",linkage:"2,6"},{name:"Manp",linkage:"2,6"},{name:"Fucp",linkage:"2,6"},{name:"Rhap",linkage:"2,6"},{name:"GalpNAc",linkage:"2,6"},{name:"GlcpNAc",linkage:"2,6"},{name:"ManpNAc",linkage:"2,6"},{name:"Galp",linkage:"3,4"},{name:"Glcp",linkage:"3,4"},{name:"Manp",linkage:"3,4"},{name:"Fucp",linkage:"3,4"},{name:"Rhap",linkage:"3,4"},{name:"GalpNAc",linkage:"3,4"},{name:"GlcpNAc",linkage:"3,4"},{name:"ManpNAc",linkage:"3,4"},{name:"Galp",linkage:"3,6"},{name:"Glcp",linkage:"3,6"},{name:"Manp",linkage:"3,6"},{name:"Fucp",linkage:"3,6"},{name:"Rhap",linkage:"3,6"},{name:"GalpNAc",linkage:"3,6"},{name:"GlcpNAc",linkage:"3,6"},{name:"ManpNAc",linkage:"3,6"},{name:"Galp",linkage:"4,6"},{name:"Glcp",linkage:"4,6"},{name:"Manp",linkage:"4,6"},{name:"Fucp",linkage:"4,6"},{name:"Rhap",linkage:"4,6"},{name:"GalpNAc",linkage:"4,6"},{name:"GlcpNAc",linkage:"4,6"},{name:"ManpNAc",linkage:"4,6"}]},{groupName:"Multiply Branched Hexopyranosyl Residues",items:[{name:"Galp",linkage:"2,3,4"},{name:"Glcp",linkage:"2,3,4"},{name:"Manp",linkage:"2,3,4"},{name:"Fucp",linkage:"2,3,4"},{name:"Rhap",linkage:"2,3,4"},{name:"GalpNAc",linkage:"2,3,4"},{name:"GlcpNAc",linkage:"2,3,4"},{name:"ManpNAc",linkage:"2,3,4"},{name:"Galp",linkage:"2,3,6"},{name:"Glcp",linkage:"2,3,6"},{name:"Manp",linkage:"2,3,6"},{name:"Fucp",linkage:"2,3,6"},{name:"Rhap",linkage:"2,3,6"},{name:"GalpNAc",linkage:"2,3,6"},{name:"GlcpNAc",linkage:"2,3,6"},{name:"ManpNAc",linkage:"2,3,6"},{name:"Galp",linkage:"2,4,6"},{name:"Glcp",linkage:"2,4,6"},{name:"Manp",linkage:"2,4,6"},{name:"Fucp",linkage:"2,4,6"},{name:"Rhap",linkage:"2,4,6"},{name:"GalpNAc",linkage:"2,4,6"},{name:"GlcpNAc",linkage:"2,4,6"},{name:"ManpNAc",linkage:"2,4,6"},{name:"Galp",linkage:"3,4,6"},{name:"Glcp",linkage:"3,4,6"},{name:"Manp",linkage:"3,4,6"},{name:"Fucp",linkage:"3,4,6"},{name:"Rhap",linkage:"3,4,6"},{name:"GalpNAc",linkage:"3,4,6"},{name:"GlcpNAc",linkage:"3,4,6"},{name:"ManpNAc",linkage:"3,4,6"}]},{groupName:"Non-Branched Pentopyranosyl and Pentofuranosyl Residues",items:[{name:"Arap",linkage:"T"},{name:"Ribp",linkage:"T"},{name:"Xylp",linkage:"T"},{name:"Araf",linkage:"T"},{name:"Ribf",linkage:"T"},{name:"Arap",linkage:"2"},{name:"Ribp",linkage:"2"},{name:"Xylp",linkage:"2"},{name:"Araf",linkage:"2"},{name:"Ribf",linkage:"2"},{name:"Arap",linkage:"3"},{name:"Ribp",linkage:"3"},{name:"Xylp",linkage:"3"},{name:"Araf",linkage:"3"},{name:"Ribf",linkage:"3"},{name:"Arap",linkage:"4"},{name:"Ribp",linkage:"4"},{name:"Xylp",linkage:"4"},{name:"Araf",linkage:"4"},{name:"Ribf",linkage:"4"},{name:"Arap",linkage:"5"},{name:"Ribp",linkage:"5"},{name:"Xylp",linkage:"5"},{name:"Araf",linkage:"5"},{name:"Ribf",linkage:"5"}]},{groupName:"Branched Pentopyranosyl And Pentofuranosyl Residues",items:[{name:"Arap",linkage:"2,3"},{name:"Ribp",linkage:"2,3"},{name:"Xylp",linkage:"2,3"},{name:"Araf",linkage:"2,3"},{name:"Ribf",linkage:"2,3"},{name:"Arap",linkage:"2,4"},{name:"Ribp",linkage:"2,4"},{name:"Xylp",linkage:"2,4"},{name:"Araf",linkage:"2,4"},{name:"Ribf",linkage:"2,4"},{name:"Arap",linkage:"2,5"},{name:"Ribp",linkage:"2,5"},{name:"Xylp",linkage:"2,5"},{name:"Araf",linkage:"2,5"},{name:"Ribf",linkage:"2,5"},{name:"Arap",linkage:"3,4"},{name:"Ribp",linkage:"3,4"},{name:"Xylp",linkage:"3,4"},{name:"Araf",linkage:"3,4"},{name:"Ribf",linkage:"3,4"},{name:"Arap",linkage:"3,5"},{name:"Ribp",linkage:"3,5"},{name:"Xylp",linkage:"3,5"},{name:"Araf",linkage:"3,5"},{name:"Ribf",linkage:"3,5"},{name:"Arap",linkage:"2,3,4"},{name:"Ribp",linkage:"2,3,4"},{name:"Xylp",linkage:"2,3,4"},{name:"Araf",linkage:"2,3,4"},{name:"Ribf",linkage:"2,3,4"},{name:"Arap",linkage:"2,3,5"},{name:"Ribp",linkage:"2,3,5"},{name:"Xylp",linkage:"2,3,5"},{name:"Araf",linkage:"2,3,5"},{name:"Ribf",linkage:"2,3,5"}]}].map((function(e){return Object(m.a)(Object(m.a)({},e),{},{items:e.items.map((function(e){return k(e)}))})})),d=a(142),b=a(149),j=function(){return Object(i.jsx)("svg",{display:"block",fill:"black",viewBox:"0 0 24 24",width:18,children:Object(i.jsx)("path",{d:"M17.65 6.35C16.2 4.9 14.21 4 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08c-.82 2.33-3.04 4-5.65 4-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4l-2.35 2.35z"})})},f=function(){return Object(i.jsx)("svg",{display:"block",fill:"black",viewBox:"0 0 24 24",width:18,children:Object(i.jsx)("path",{d:"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"})})},h=Object(o.a)({container:{display:"flex",justifyContent:"center"}}),x=function(e){var n=e.onDataZoomBack,a=e.onRefreshView,t=h({});return Object(i.jsxs)("div",{className:t.container,children:[Object(i.jsx)(b.a,{size:"small",onClick:n,children:Object(i.jsx)(f,{})}),Object(i.jsx)(d.a,{children:"Click and drag to zoom"}),Object(i.jsx)(b.a,{size:"small",onClick:a,children:Object(i.jsx)(j,{})})]})},O=a(146),A=a(144),N=a(145),G=a(143),y=a(147);var v=Object(o.a)({graphContainer:{display:"flex",justifyContent:"center"},zoomBox:{zIndex:100,position:"absolute",border:"black 1px solid",backgroundColor:"blue",opacity:.4}}),R=300,M=30,X=80,w={initialX:0,dragX:0,rectX:0,rectY:0,width:0,height:0},C=function(e){var n=e.dataSets,a=e.onDataZoom,l=v({}),c=n.map((function(e){return e.data})),r=Object(t.useRef)(null),o=Object(t.useRef)(null),u=Object(t.useState)(!1),k=Object(p.a)(u,2),s=k[0],d=k[1],b=Object(t.useRef)(w),j=Object(t.useState)(w),f=Object(p.a)(j,2),h=f[0],x=f[1],C=Object(t.useRef)(),F=750-X-50,T=R-M-50,Y=function(e){return e.reduce((function(e,n){return[].concat(Object(g.a)(e),Object(g.a)(n))}),[]).reduce((function(e,n){var a=e.minX,i=e.maxX,t=e.minY,l=e.maxY,c=n.x,r=n.y;return{minX:c<a?c:a,maxX:c>i?c:i,minY:r<t?r:t,maxY:r>l?r:l}}),{minX:1/0,maxX:-1/0,minY:1/0,maxY:-1/0})}(c),B=Y.minX,I=Y.maxX,S=Y.minY,P=Y.maxY,z=Object(y.a)({domain:[B,I],range:[0,F],round:!0}),D=Object(y.a)({domain:[0,F],range:[B,I],round:!0}),H=Object(y.a)({domain:[S,P],range:[T,0],round:!0}),L=Object(y.a)({domain:[T,0],range:[S,P],round:!0}),Z=function(e,n){var a=e-X-n;return a<0&&(a=0),a>F&&(a=F),a},E=function(e,n){var a=e-M-n;return a<0&&(a=0),a>T&&(a=T),a},V=function(){var e,n=b.current,a=n.dragX,i=n.initialX,t=n.rectX,l=n.rectY;e=a<i?i-t:a-i;var c=T-l;b.current=Object(m.a)(Object(m.a)({},b.current),{},{width:e}),x(Object(m.a)(Object(m.a)({},b.current),{},{width:e,height:c}))};return Object(i.jsx)("div",{ref:r,className:l.graphContainer,onClick:function(e){var n=e.clientX,i=e.clientY;if(o.current){var t=o.current.getBoundingClientRect(),l=t.left,c=t.top,r=Z(n,l),g=E(i,c);s?(a({minX:D(b.current.rectX),maxX:D(b.current.rectX+b.current.width),maxY:L(b.current.rectY)}),d(!1),b.current=w,x(w),window.cancelAnimationFrame(C.current)):(b.current=Object(m.a)(Object(m.a)({},b.current),{},{rectX:r,rectY:g,initialX:r}),d(!0))}},onMouseMove:function(e){var n=e.clientX,a=e.clientY;if(s&&o.current){var i=o.current.getBoundingClientRect(),t=i.left,l=i.top,c=Z(n,t),r=E(a,l);c<b.current.initialX?b.current=Object(m.a)(Object(m.a)({},b.current),{},{rectX:c,dragX:c}):b.current=Object(m.a)(Object(m.a)({},b.current),{},{rectX:b.current.initialX,dragX:c}),b.current=Object(m.a)(Object(m.a)({},b.current),{},{rectY:r}),C.current=requestAnimationFrame(V)}},children:Object(i.jsx)("svg",{ref:o,height:R,width:750,children:Object(i.jsxs)(G.a,{top:M,left:X,children:[Object(i.jsx)(A.a,{scale:H,top:0,left:0,label:"y label",stroke:"#1b1a1e"}),Object(i.jsx)(N.a,{scale:z,top:T,label:"x label",stroke:"#1b1a1e"}),n.map((function(e,n){var a=e.color;return e.data.map((function(e){var t=e.x,l=e.y,c=z(t),r=H(l),m=T-H(l);return Object(i.jsx)(O.a,{x:c,y:r,width:2,height:m,opacity:.6,fill:a},"".concat(n,"-").concat(t))}))})),s&&Object(i.jsx)("rect",{x:h.rectX,y:h.rectY,width:h.width,height:h.height,fill:"blue",opacity:.4})]})})})},F=Object(o.a)({container:{padding:"10px"},gridHeader:{paddingTop:"10px",paddingBottom:"10px"},columnTitleItem:{display:"flex",justifyContent:"center",width:"80px"},rowtitleItem:{display:"flex",justifyContent:"center",width:"80px"},contentItem:{borderRadius:"6px",border:"1px solid #d3d3d3",margin:"2px",padding:"1px",width:"80px","&:hover":{backgroundColor:"#d3d3d3"}}}),T=function(e){var n=e.pmaaGroup,a=e.columns,t=e.rows,l=e.selectedPmaas,c=e.onPmaaClick,r=F({}),m=function(e){return l.some((function(n){return n===e}))};return Object(i.jsxs)("div",{className:r.container,children:[Object(i.jsx)("div",{className:r.gridHeader,children:Object(i.jsx)(d.a,{variant:"subtitle1",children:Object(i.jsx)("b",{children:n.groupName})})}),Object(i.jsxs)("table",{children:[Object(i.jsxs)("tr",{children:[Object(i.jsx)("th",{children:Object(i.jsx)("div",{className:r.columnTitleItem,children:"Linkage"})}),a.map((function(e){return Object(i.jsx)("th",{children:Object(i.jsx)("div",{className:r.columnTitleItem,children:Object(i.jsx)(d.a,{noWrap:!0,children:e})})})}))]}),t.map((function(e){var a,t=n.items.filter((function(n){return n.linkage===e}));return a=t,Object(i.jsxs)("tr",{children:[Object(i.jsx)("td",{children:Object(i.jsx)("div",{className:r.rowtitleItem,children:a[0].linkage})}),a.map((function(e){var a="".concat(n.groupName,":").concat(e.name,":").concat(e.linkage);return Object(i.jsx)("td",{children:Object(i.jsx)("div",{className:r.contentItem,style:m(a)?{backgroundColor:"".concat(e.color)}:{},onClick:c(a),children:"\xa0"})})}))]})}))]})]})},Y=Object(o.a)({container:{display:"flex",flexDirection:"column",alignItems:"center",height:"100%",padding:"5px"},gridContainer:{display:"flex",flexDirection:"column",height:"calc(100% - ".concat(324,"px)"),overflowY:"scroll"},emptyTextContainer:{display:"flex",justifyContent:"center",alignItems:"center",border:"0.5px dashed grey",height:324,width:750}}),B=function(){var e=Y({}),n=Object(t.useState)([]),a=Object(p.a)(n,2),l=a[0],c=a[1],r=Object(t.useState)([]),o=Object(p.a)(r,2),u=o[0],k=o[1],d=function(e){return function(){!function(e){return u.some((function(n){return n===e}))}(e)?k((function(n){return[].concat(Object(g.a)(n),[e])})):k((function(n){return n.filter((function(n){return n!==e}))}))}};Object(t.useEffect)((function(){var e=u.reduce((function(e,n){var a=function(e){var n,a=e.split(":"),i=Object(p.a)(a,3),t=i[0],l=i[1],c=i[2];return null===(n=s.find((function(e){return e.groupName===t})))||void 0===n?void 0:n.items.find((function(e){return e.name===l&&e.linkage===c}))}(n);return a?[].concat(Object(g.a)(e),[a]):e}),[]);c([e])}),[u]);var b=function(e){return e[e.length-1]||[]},j=l.length>0&&l.some((function(e){return e.length>0}));return Object(i.jsxs)("div",{className:e.container,children:[j&&Object(i.jsx)(x,{onDataZoomBack:function(){l.length>1&&c((function(e){return e.slice(0,e.length-1)}))},onRefreshView:function(){c((function(e){return e.slice(0,1)}))}}),j&&Object(i.jsx)(C,{dataSets:b(l),onDataZoom:function(e){var n=e.minX,a=e.maxX,i=e.maxY,t=b(l).map((function(e){return Object(m.a)(Object(m.a)({},e),{},{data:e.data.filter((function(e){var i=e.x;return i>=n&&i<=a})).map((function(e){var n=e.x,a=e.y;return{x:n,y:a>i?i:a}}))})}));c((function(e){return[].concat(Object(g.a)(e),[Object(g.a)(t)])}))}}),!j&&Object(i.jsx)("div",{className:e.emptyTextContainer,children:"Click any number of PMAAs to see their electron-impact mass spectrum (EI-MS)"}),Object(i.jsx)("div",{className:e.gridContainer,children:s.map((function(e){var n=new Set(e.items.map((function(e){return e.name}))),a=new Set(e.items.map((function(e){return e.linkage})));return Object(i.jsx)(T,{pmaaGroup:e,columns:Array.from(n),rows:Array.from(a),selectedPmaas:u,onPmaaClick:d})}))})]})};var I=function(){return Object(i.jsx)(B,{})},S=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,150)).then((function(n){var a=n.getCLS,i=n.getFID,t=n.getFCP,l=n.getLCP,c=n.getTTFB;a(e),i(e),t(e),l(e),c(e)}))};r.a.render(Object(i.jsx)(l.a.StrictMode,{children:Object(i.jsx)(I,{})}),document.getElementById("root")),S()},69:function(e,n,a){}},[[115,1,2]]]);
//# sourceMappingURL=main.bc1b7040.chunk.js.map